
- 可视化难点
	- 动效难点，动效有一个像电路板数据汇聚一样的效果，这里是使用了 gsap 的 timeline 功能和 motionPathPlugin 。与设计进行几个关键性参数的考究，整体把控动效时间轴的几个补间动画。 motionPath 是实现不规则动画，这里采用的方案是 svg 的路径去引导不规则动画。同样通过 timeline 的功能实现时间控制。
	- echarts
	- 领导驾驶舱
- 人员追踪任务
	- 异步任务处理，新建的追踪任务会下发到后端，然后 ws 推送任务状态，该任务查询条件存和 ws 推送结果储到vuex进行状态管理，执行中的任务状态在打开详情和返回列表的时候都能获取的到，执行完的任务直接查询任务详情。
	- 详情页面，根据当前vuex的数据内容展示人员抓拍，人员轨迹。
		- 封装了抓拍回放、地图弹窗详情等。
		- 封装了新增任务，新的抓拍图可以作为子任务查询条件，继续生成新的任务放到任务队列里面。跟主任务的表单一部分内容是一致的。并且这个功能也是
		- 任务结束展示人员轨迹，轨迹播放，任务不结束，数据往地图上进行打点动态展示。有一种数据一个个被找出来的科技感。
- 地图部分
	- 轨迹播放
		- 整体思路是
			- 分析数据，数据是经纬度和抓拍时间。数据量大概在两位数。
			- 时间轴控制当前播放时间位置。
			- 计算播放时间的当前时间在哪两个经纬度数据之间。
			- 起点A、终点B、移动的总时间、移动的速度曲线（匀速、加速、缓动缓停等等），然后就可以根据当前时刻在总时长的进度获得NPC应该在的位置
			- 这样有一个好处是可以具体每一段的行动快慢可以看得出来。
		- 优化点
			- 数据只保留必要id，时间轴控件双向绑定一个时间值。点击时，根据时间计算处于哪两个时间节点中间，减轻地图模块数据查找的负担，专注计算地图位置信息。
			- 状态不会重复计算，而是通过编号自然+1，从而减少计算量。运行到下一个轨迹，只有在时间被点击之后或者快进快退功能才会重新计算一次在哪两个时间之间。
			- 这样也方便计算高亮。哪个路段正处于播放状态。不然点位
			- 这里最终使用的是 background 百分比去实现进度条的加载 也是减轻重流负担。
	- 经纬度兼容 3857 和 4326，这里是地图封装到了一个 hooks 里，处理经纬度的地方都收敛到了这里，比如要打点上图，就 add 一个数据到某个layer上，在add 的过程中会判断传入坐标系和当前地图接入坐标系的关系。
	- 地图实例不挂在 vue 响应式对象里
	- 周边监控点做了聚合和一杆多点的判断。根据当前可视域去处理。
	- 范围追踪上监控点可以圈选，然后可以多边形合并。
- 郴州可视化大屏
	- 页面稳定卡顿
		- 并发太多，增大尺寸
		- http Nginx请求，改为https
		- 加载顺序先两侧 后中间
		- 点位聚合处理
		- 路网分层处理
		- 动画 scrollTop++